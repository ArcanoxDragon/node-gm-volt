"use strict";function get(e,t){return r(e,t)}function postForm(e,t,n){var o=__assign({form:t},n);return r.post(e,o)}function postFormJsonP(e,r,t){return __awaiter(this,void 0,void 0,function(){var n,o,a;return __generator(this,function(i){switch(i.label){case 0:return[4,postForm(e,r,t)];case 1:if(n=i.sent(),!(o=n.match(jspMatch)))throw new Error("Invalid JSONP response");if(!(a=JSON.parse(o[1])))throw new Error("Invalid JSONP response");return[2,a]}})})}function getCookie(e){var r=jar.getCookies(baseUrl),t=r.find(function(r){return r.key.toLowerCase()===e.toLowerCase()});return t||null}var __assign=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},__awaiter=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new t(function(r){r(e.value)}).then(i,s)}u((n=n.apply(e,r||[])).next())})},__generator=this&&this.__generator||function(e,r){function t(e){return function(r){return n([e,r])}}function n(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&t[0]?"return":t[0]?"throw":"next"])&&!(i=i.call(a,t[1])).done)return i;switch(a=0,i&&(t=[0,i.value]),t[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(e,u)}catch(e){t=[6,e],a=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};exports.__esModule=!0;var req=require("request-promise-native"),config_1=require("./config"),headers_1=require("./myvolt/headers"),baseUrl=config_1.default.protocol+"://"+config_1.default.domain+"/",jar=req.jar(),jspMatch=/^jsonp\d+\((.*)\)$/i,r=req.defaults({baseUrl:baseUrl,gzip:!0,headers:headers_1.default,jar:jar});exports.get=get,exports.postForm=postForm,exports.postFormJsonP=postFormJsonP,exports.getCookie=getCookie;